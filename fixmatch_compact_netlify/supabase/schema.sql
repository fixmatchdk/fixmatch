create extension if not exists pgcrypto; create table if not exists profiles(id uuid primary key); create table if not exists tasks(id uuid primary key default gen_random_uuid(), title text, description text, budget_min int, budget_max int, category text, location jsonb, created_by uuid, status text default 'open', created_at timestamptz default now()); create table if not exists bids(id uuid primary key default gen_random_uuid(), task_id uuid references tasks(id), bidder_id uuid, amount int not null, message text, created_at timestamptz default now()); alter table profiles enable row level security; alter table tasks enable row level security; alter table bids enable row level security; create policy "public read tasks" on tasks for select using (true); create policy "insert own task" on tasks for insert with check (auth.uid() = created_by); create policy "update own task" on tasks for update using (auth.uid() = created_by); create policy "public read bids" on bids for select using (true); create policy "insert own bid" on bids for insert with check (auth.uid() = bidder_id);